<!doctype html>
<html lang="ko">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>ì™¸ë¶€ ì»¨í…ì¸  ëª¨ìŒ (ì •ì  ê¸€ ë¦¬ìŠ¤íŠ¸)</title>
    <meta name="description" content="ì™¸ë¶€ ì»¨í…ì¸ ë¥¼ ìš”ì•½/ì •ë¦¬í•œ ì •ì  ê¸€ ëª¨ìŒì…ë‹ˆë‹¤. ì¹´ë“œ/JS ì—†ì´ ê²€ìƒ‰ ì¹œí™”ì  êµ¬ì¡°ë¡œ ì œê³µ." />
    <link rel="canonical" href="https://example.com/" />

    <!-- Open Graph(ì„ íƒ): ì†Œì…œ ë¯¸ë¦¬ë³´ê¸° -->
    <meta property="og:title" content="ì™¸ë¶€ ì»¨í…ì¸  ëª¨ìŒ (ì •ì  ê¸€ ë¦¬ìŠ¤íŠ¸)" />
    <meta property="og:description" content="ì™¸ë¶€ ì»¨í…ì¸ ë¥¼ ìš”ì•½/ì •ë¦¬í•œ ì •ì  ê¸€ ëª¨ìŒì…ë‹ˆë‹¤." />
    <meta property="og:type" content="website" />

    <style>
        :root {
            --bg: #0b1220;
            --bg2: #0f172a;
            --panel: #0f172acc;
            --ring: rgba(255, 255, 255, .08);
            --text: #e2e8f0;
            --dim: #94a3b8;
            --indigo: #6366f1;
            --emerald: #10b981;
        }

        * {
            box-sizing: border-box
        }

        html,
        body {
            height: 100%
        }

        body {
            margin: 0;
            font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
            color: var(--text);
            background: linear-gradient(#020617, #0b1220 40%, #0f172a)
        }

        a {
            color: inherit
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 24px 20px
        }

        header.site {
            position: sticky;
            top: 0;
            z-index: 10;
            backdrop-filter: blur(8px);
            background: color-mix(in oklab, var(--bg2) 87%, transparent);
            border-bottom: 1px solid var(--ring)
        }

        header.site .inner {
            max-width: 900px;
            margin: 0 auto;
            padding: 16px 20px
        }

        h1 {
            font-size: 22px;
            margin: 0
        }

        nav.toc {
            margin: 14px 0 6px
        }

        nav.toc a {
            display: inline-block;
            margin: 4px 10px 0 0;
            padding: 6px 10px;
            border: 1px solid var(--ring);
            border-radius: 999px;
            text-decoration: none
        }

        main {
            padding-top: 8px
        }

        article {
            border: 1px solid var(--ring);
            border-radius: 16px;
            background: rgba(255, 255, 255, .03);
            padding: 18px;
            margin: 16px 0;
        }

        article header h2 {
            font-size: 20px;
            margin: 0
        }

        .meta {
            color: var(--dim);
            font-size: 14px;
            margin: 6px 0 10px
        }

        .tags {
            margin: 10px 0 0;
            display: flex;
            flex-wrap: wrap;
            gap: 8px
        }

        .tag {
            font-size: 11px;
            padding: .25rem .55rem;
            border-radius: 999px;
            border: 1px solid var(--ring)
        }

        .ext {
            display: inline-flex;
            align-items: center;
            gap: .4rem;
            padding: .45rem .65rem;
            border: 1px solid var(--ring);
            border-radius: 10px;
            text-decoration: none;
            margin-top: 8px
        }

        section.summary {
            margin: 12px 0
        }

        section.content {
            margin: 14px 0
        }

        footer.article-ft {
            margin-top: 10px;
            border-top: 1px dashed var(--ring);
            padding-top: 10px;
            color: var(--dim);
            font-size: 13px
        }

        .favicon {
            height: 18px;
            width: 18px;
            border-radius: 4px;
            vertical-align: middle;
            margin-right: 6px
        }
    </style>
</head>

<body>
    <div style="position:fixed;inset:0;z-index:-1;background:linear-gradient(to bottom,#020617,#0b1220 45%,#0f172a)">
    </div>

    <header class="site" role="banner">
        <div class="inner">
            <h1>ì˜¤ê¸°íƒì˜ ì¸í„°ë„· ì„¸ìƒ</h1>
            <p style="margin:6px 0 0;color:var(--dim)"></p>

            <!-- ê°„ë‹¨ ëª©ì°¨(ë¬¸ì„œ ë‚´ë¶€ ì•µì»¤) -->
            <nav class="toc" aria-label="ê¸€ ëª©ì°¨">
              
            </nav>
        </div>
    </header>

    <main class="container" role="main">

       
        <!-- ìë™ ë¦¬ë·°ê°€ ë“¤ì–´ê°ˆ ìœ„ì¹˜ -->
        <div id="auto-reviews-mount"></div>

        <!-- =========================
       ğŸ“Œ ë³µë¶™ìš© "ì´ˆê°„ë‹¨ ê¸€ í…œí”Œë¦¿" (ì£¼ì„)
  ========================== -->
        <!--
  <article id="post-your-slug" itemscope itemtype="https://schema.org/Article">
    <header>
      <h2 itemprop="headline">ì—¬ê¸°ì— ê¸€ ì œëª©</h2>
      <div class="meta">
        <time itemprop="datePublished" datetime="YYYY-MM-DDThh:mm:ss+09:00">ì‘ì„±: YYYY-MM-DD hh:mm</time>
        Â·
        <time itemprop="dateModified" datetime="YYYY-MM-DDThh:mm:ss+09:00">ì—…ë°ì´íŠ¸: YYYY-MM-DD hh:mm</time>
      </div>
      <a class="ext" itemprop="mainEntityOfPage" href="https://YOUR-LINK" target="_blank" rel="noopener nofollow">
        <img class="favicon" src="https://www.google.com/s2/favicons?domain=YOUR-DOMAIN.com&sz=64" alt="íŒŒë¹„ì½˜" />
        ì›ë¬¸ ì—´ê¸°
      </a>
      <meta itemprop="author" content="ì‘ì„±ìëª…" />
      <meta itemprop="inLanguage" content="ko" />
    </header>

    <section class="summary" itemprop="description">ìš”ì•½â€¦</section>
    <section class="content" itemprop="articleBody"><p>ë³¸ë¬¸â€¦</p></section>
    <div class="tags" aria-label="íƒœê·¸"><a class="tag" href="#post-your-slug" rel="tag">#tag</a></div>
    <footer class="article-ft">ì¶œì²˜: <a href="https://YOUR-LINK" target="_blank" rel="noopener nofollow">ì›ë¬¸ ë§í¬</a></footer>
  </article>
  -->
    </main>

    <!-- CSV íŒŒì‹± & ë¦¬ë·°ë¥¼ <article>ë¡œ ë Œë” -->
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    <script>
        (function () {
            // GitHub Pages(í”„ë¡œì íŠ¸ ê²½ë¡œ) ëŒ€ì‘
            const BASE = location.pathname.startsWith('/kitaekcontents') ? '/kitaekcontents' : '';
            const CSV_URL = new URL('./assets/exp1/kitaek_review_atod0e30.csv', window.location.href).href;
            const mount = document.getElementById('auto-reviews-mount');

            // ì œí’ˆëª… â†’ ë³´ê¸° ì¢‹ì€ íƒ€ì´í‹€
            const PRODUCT_TITLE = {
                "ori_is_quackquack_kitaek_A": "A ì»´í“¨í„°",
                "ori_is_quackquack_kitaek_B": "B ì»´í“¨í„°",
                "ori_is_quackquack_kitaek_C": "C ì»´í“¨í„°",
                "ori_is_quackquack_kitaek_D": "D ì»´í“¨í„°",
                "ori_is_quackquack_kitaek_E": "E ì»´í“¨í„°",
            };

            const now = new Date();
            const pad = n => String(n).padStart(2, '0');
            const iso = now.getFullYear() + '-' + pad(now.getMonth() + 1) + '-' + pad(now.getDate()) +
                'T' + pad(now.getHours()) + ':' + pad(now.getMinutes()) + ':' + pad(now.getSeconds()) + '+09:00';
            const human = `ì‘ì„±: ${now.getFullYear()}-${pad(now.getMonth() + 1)}-${pad(now.getDate())} ${pad(now.getHours())}:${pad(now.getMinutes())}`;
            const FAVICON_DOMAIN = 'example.com'; // í•„ìš” ì‹œ ë³€ê²½

            // XSS-safe
            function escapeHtml(s) {
                return String(s)
                    .replaceAll('&', '&amp;')
                    .replaceAll('<', '&lt;')
                    .replaceAll('>', '&gt;')
                    .replaceAll('"', '&quot;')
                    .replaceAll("'", "&#39;");
            }

            // ë„¤ê°€ ì¤€ article êµ¬ì¡°ë¡œ í•˜ë‚˜ ìƒì„±
            function createArticle({ productKey, text, idxPerProduct }) {
                const id = `review-${productKey}-${idxPerProduct}`;
                const title = `${PRODUCT_TITLE[productKey] || productKey} ì‚¬ìš©ì í›„ê¸° #${idxPerProduct}`;
                const tagHash = '#' + (PRODUCT_TITLE[productKey] || productKey);

                const article = document.createElement('article');
                article.id = id;
                article.setAttribute('itemscope', '');
                article.setAttribute('itemtype', 'https://schema.org/Article');

                const header = document.createElement('header');
                const h2 = document.createElement('h2');
                h2.setAttribute('itemprop', 'headline');
                h2.textContent = title;

                const meta = document.createElement('div');
                meta.className = 'meta';
                meta.innerHTML = `
      <time itemprop="datePublished" datetime="${iso}">${human}</time>
      Â·
      <time itemprop="dateModified" datetime="${iso}">ì—…ë°ì´íŠ¸: ${now.getFullYear()}-${pad(now.getMonth() + 1)}-${pad(now.getDate())} ${pad(now.getHours())}:${pad(now.getMinutes())}</time>
    `;

                const ext = document.createElement('a');
                ext.className = 'ext';
                ext.setAttribute('itemprop', 'mainEntityOfPage');
                ext.href = `${BASE}/`; // ì œí’ˆ ìƒì„¸ ë§í¬ë¡œ ë°”ê¿€ ìˆ˜ ìˆìŒ
                ext.target = '_blank';
                ext.rel = 'noopener nofollow';
                ext.innerHTML = `
      <img class="favicon" src="https://www.google.com/s2/favicons?domain=${FAVICON_DOMAIN}&sz=64" alt="íŒŒë¹„ì½˜" />
      ì›ë¬¸ ì—´ê¸°
    `;

                const author = document.createElement('meta');
                author.setAttribute('itemprop', 'author'); author.content = 'ê¸°íƒ';
                const lang = document.createElement('meta');
                lang.setAttribute('itemprop', 'inLanguage'); lang.content = 'ko';

                header.appendChild(h2);
                header.appendChild(meta);
                header.appendChild(ext);
                header.appendChild(author);
                header.appendChild(lang);

                const summary = document.createElement('section');
                summary.className = 'summary';
                summary.setAttribute('itemprop', 'description');
                summary.textContent = text.length > 90 ? text.slice(0, 90) + 'â€¦' : text;

                const content = document.createElement('section');
                content.className = 'content';
                content.setAttribute('itemprop', 'articleBody');
                content.innerHTML = `<p>${escapeHtml(text)}</p>`;

                const tags = document.createElement('div');
                tags.className = 'tags';
                tags.setAttribute('aria-label', 'íƒœê·¸');
                const tag = document.createElement('a');
                tag.className = 'tag';
                tag.href = `#${id}`;
                tag.setAttribute('rel', 'tag');
                tag.textContent = tagHash;
                tags.appendChild(tag);

                const ft = document.createElement('footer');
                ft.className = 'article-ft';
                ft.innerHTML = `ì¶œì²˜: <a href="${BASE}/" target="_blank" rel="noopener nofollow">ì‚¬ìš©ì í›„ê¸°</a>`;

                article.appendChild(header);
                //article.appendChild(summary); í˜¹ì‹œ ìš”ì•½ì´ ê°™ì´ ë³´ì—¬ì„œ ì¤‘ë³µëœ ê²ƒì²˜ëŸ¼ ë³´ì´ë‚˜ ì‹¶ì–´ì„œ.
                article.appendChild(content);
                article.appendChild(tags);
                article.appendChild(ft);

                return article;
            }

            // CSV íŒŒì‹± â†’ <article> ë Œë”
            Papa.parse(CSV_URL, {
                download: true,
                header: true,
                skipEmptyLines: true,
                complete: ({ data }) => {
                    const frag = document.createDocumentFragment();
                    const counters = {}; // ì œí’ˆë³„ ì¸ë±ìŠ¤

                    data.forEach(row => {
                        const productKey = row['ì œí’ˆëª…'];
                        const text = row['ë¦¬ë·°'];
                        if (!productKey || !text) return;

                        counters[productKey] = (counters[productKey] || 0) + 1;
                        const idx = counters[productKey];

                        frag.appendChild(createArticle({ productKey, text, idxPerProduct: idx }));
                    });

                    mount.replaceChildren(frag);
                },
                error: err => console.error('CSV íŒŒì‹± ì˜¤ë¥˜:', err)
            });
        })();
    </script>

</body>

</html>
